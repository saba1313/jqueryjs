<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
	<title>fadeTo Example</title>
	<style type="text/css">
		body{
			background:white;
			margin:0;
			padding:0;
			font-family:Verdana, Arial, Helvetica, sans-serif;
		}
		p{
			margin:0;
			padding:10px;
		}
		.tests{
			float:left;
			margin:10px;
			width:200px;
			height:200px;
		}
		#test1{
			display:none;
			background:red;
		}
		#test2{
			background:blue;
		}
		#test3{
			background:green;
			opacity:0;
		}
	</style>
	<script src="jquery-1.1.3.1_MODIFIED.js" type="text/javascript"></script>
	<script type="text/javascript">
	$(function(){
		$('div.tests').fadeTo(1000,0.5);
	});
	</script>
</head>

<body>
<h1>Three tests with a modified jQuery.</h1>
<p>I expect to see 3 boxes. Red and Green should fade from 0 to 50%, and Blue should fade from 100% to 50%. Red is "display:none" and Green is "opacity:0", while Blue has no visibility or opacity settings by default.</p>
<p>Switch to <a href="fadeTo_test.html">tests with the released jQuery</a>.</p>
<div id="test1" class="tests"></div>
<div id="test2" class="tests"></div>
<div id="test3" class="tests"></div>
<div id="test4" class="tests"></div>
<p style="clear:both">The modification is below.</p>
<p>
<pre>
Index: fx.js
===================================================================
--- fx.js	(revision 2258)
+++ fx.js	(working copy)
@@ -326,6 +326,9 @@
 					// Make sure that nothing sneaks out
 					opt.overflow = this.style.overflow;
 				}
+				
+				if ( hidden && p == "opacity" )
+					jQuery(this).css("opacity", 0).show();
 			}
 
 			if ( opt.overflow != null )
</pre>
</p>


</body>
</html>
