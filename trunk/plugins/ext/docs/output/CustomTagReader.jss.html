<html><head><title>CustomTagReader.js</title><link rel="stylesheet" type="text/css" href="../resources/style.css" media="screen"/></head><body><h1>CustomTagReader.js</h1><pre class="highlighted"><code><i>/**
 * @class Ext.CustomTagReader
 * Utility class to normalize reading of custom tags across browsers. This class is entirely experimental, use at own risk!
 */</i>
Ext.CustomTagReader = <b>function</b>(namespace){
    <b>this</b>.namespace = namespace;
};
Ext.CustomTagReader.prototype = {
    getAttribute : <b>function</b>(el, name, defaultValue){
        <b>return</b> (<b>this</b>.useNS ?
            v = el.getAttributeNS(<b>this</b>.namespace, name) : null) ||
            el.getAttribute(<b>this</b>.namespace+':'+name) ||
            el.getAttribute(name);
    },
    
    getElements : <b>function</b>(tagName, targetEl){
        targetEl = targetEl || document.body;
        <b>var</b> els;
        <b>if</b>(this.useNS){ <i>// no namespaces <b>in</b> IE</i>
           els = targetEl.getElementsByTagNameNS(<b>this</b>.namespace, tagName);
        }
        <b>if</b>(!els || els.length &lt; 1){ <i>// ie6, firefox 1.5, firefox 2 depending on doc type</i>
           els = targetEl.getElementsByTagName(<b>this</b>.namespace+':'+tagName);
        }
        <b>if</b>(!els || els.length &lt; 1){ <i>// everyone <b>else</b></i>
           els = targetEl.getElementsByTagName(tagName);
        }
        <b>return</b> els;
    },
    
    eachElement : <b>function</b>(tagName, targetEl, fn, scope){
        <b>var</b> els = <b>this</b>.getElements(tagName, targetEl);
        <b>for</b>(var i = 0, len = els.length; i &lt; len; i++) {
        	<b>var</b> el = els[i];
        	fn.call(scope || el, el);
        }  
    },
    
    useNS : (!Ext.isIE &amp;&amp; document.getElementsByTagNameNS) ? true : false
};</code></pre><hr><div style="font-size:10px;text-align:center;color:gray;">yui-ext - Copyright &copy; 2006 Jack Slocum.  |
    Yahoo! UI - Copyright &copy; 2006 Yahoo! Inc.<br />All rights reserved.</div>
    </body></html>