<html><head><title>DelayedTask.js</title><link rel="stylesheet" type="text/css" href="../resources/style.css" media="screen"/></head><body><h1>DelayedTask.js</h1><pre class="highlighted"><code><i>/**
 * @class Ext.util.DelayedTask
 * Provides a convenient method of performing setTimeout where a <b>new</b>
 * timeout cancels the old timeout. An example would be performing validation on a keypress.
 * You can use <b>this</b> class to buffer
 * the keypress events <b>for</b> a certain number of milliseconds, and perform only <b>if</b> they stop
 * <b>for</b> that amount of time.
 * @constructor The parameters to <b>this</b> constructor serve as defaults and are not required.
 * @param {&lt;i&gt;Function&lt;/i&gt;} fn (optional) The <b>default</b> function to timeout
 * @param {&lt;i&gt;Object&lt;/i&gt;} scope (optional) The <b>default</b> scope of that timeout
 * @param {&lt;i&gt;Array&lt;/i&gt;} args (optional) The <b>default</b> Array of arguments
 */</i>
Ext.util.DelayedTask = <b>function</b>(fn, scope, args){
    <b>var</b> timeoutId = null;

    <i>/**
     * Cancels any pending timeout and queues a <b>new</b> one
     * @param {Number} delay The milliseconds to delay
     * @param {Function} newFn (optional) Overrides <b>function</b> passed to constructor
     * @param {Object} newScope (optional) Overrides scope passed to constructor
     * @param {Array} newArgs (optional) Overrides args passed to constructor
     */</i>
    <b>this</b>.delay = <b>function</b>(delay, newFn, newScope, newArgs){
        <b>if</b>(timeoutId){
            clearTimeout(timeoutId);
        }
        fn = newFn || fn;
        scope = newScope || scope;
        args = newArgs || args;
        timeoutId = setTimeout(fn.createDelegate(scope, args), delay);
    };

    <i>/**
     * Cancel the last queued timeout
     */</i>
    <b>this</b>.cancel = <b>function</b>(){
        <b>if</b>(timeoutId){
            clearTimeout(timeoutId);
            timeoutId = null;
        }
    };
};</code></pre><hr><div style="font-size:10px;text-align:center;color:gray;">yui-ext - Copyright &copy; 2006 Jack Slocum.  |
    Yahoo! UI - Copyright &copy; 2006 Yahoo! Inc.<br />All rights reserved.</div>
    </body></html>