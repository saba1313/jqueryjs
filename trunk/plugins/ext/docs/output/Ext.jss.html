<html><head><title>Ext.js</title><link rel="stylesheet" type="text/css" href="../resources/style.css" media="screen"/></head><body><h1>Ext.js</h1><pre class="highlighted"><code>if(<b>typeof</b> YAHOO == 'undefined'){
    throw 'Unable to load Ext, core YUI utilities (yahoo, dom, event) not found.';
}

YAHOO.namespace('Ext', 'Ext.util', 'Ext.grid', 'Ext.dd', 'Ext.tree', 'Ext.data',
                'Ext.form', 'Ext.menu', 'Ext.state', 'Ext.compat');

Ext = YAHOO.Ext;

<i>// <b>for</b> old browsers</i>
window['undefined'] = window['undefined'];

<i>/**
 * @class Ext
 * Ext core utilties and functions
 * @singleton
 */</i>
<i>// holder</i>
<i>/**
 * Copies all the properties of config to obj.
 * @param {Object} obj The receiver of the properties
 * @param {Object} config The source of the properties
 * @param {Object} defaults A different object that will also be applied <b>for</b> default values
 * @<b>return</b> {Object} returns obj
 * @member Ext apply
 */</i>
Ext.apply = <b>function</b>(o, c, defaults){
    <b>if</b>(defaults){
        <i>// no '<b>this</b>' reference <b>for</b> friendly out of scope calls</i>
        Ext.apply(o, defaults);
    }
    <b>if</b>(o &amp;&amp; c){
        <b>for</b>(var p <b>in</b> c){
            o[p] = c[p];
        }
    }
    <b>return</b> o;
};

(<b>function</b>(){
    <b>var</b> ua = navigator.userAgent.toLowerCase();

    <b>var</b> isStrict = document.compatMode == 'CSS1Compat',
        isOpera = ua.indexOf('opera') &gt; -1,
        isSafari = ua.indexOf('webkit') &gt; -1,
        isIE = ua.indexOf('msie') &gt; -1,
        isIE7 = ua.indexOf('msie 7') &gt; -1,
        isGecko = !isSafari &amp;&amp; ua.indexOf('gecko') &gt; -1,
        isBorderBox = isIE &amp;&amp; !isStrict,
        isWindows = (ua.indexOf(&quot;windows&quot;) != -1 || ua.indexOf(&quot;win32&quot;) != -1),
        isMac = (ua.indexOf(&quot;macintosh&quot;) != -1 || ua.indexOf(&quot;mac os x&quot;) != -1);

    <i>// remove css image flicker</i>
	<b>if</b>(isIE &amp;&amp; !isIE7){
        try{
            document.execCommand(&quot;BackgroundImageCache&quot;, false, true);
        }catch(e){}
    }

    Ext.apply(Ext, {
        <i>/**
         * True <b>if</b> the browser is <b>in</b> strict mode
         * @type Boolean
         */</i>
        isStrict : isStrict,
        <i>/**
         * URL to a blank file used by Ext when <b>in</b> secure mode <b>for</b> iframe src and onReady src to prevent
         * the IE insecure content warning (defaults to javascript:false).
         * @type String
         */</i>
        SSL_SECURE_URL : 'javascript:false',

        <i>/**
         * URL to a 1x1 transparent gif image used by Ext to create inline icons <b>with</b> CSS background images. (Defaults to
         * 'http:<i>//www.yui-ext.com/s.gif' and you should change <b>this</b> to a URL on your server).</i>
         * @type String
         */</i>
        BLANK_IMAGE_URL : 'http:/'+'/www.yui-ext.com/s.gif',
        
        emptyFn : <b>function</b>(){},

        <i>/**
         * Copies all the properties of config to obj <b>if</b> they don't already exist.
         * @param {Object} obj The receiver of the properties
         * @param {Object} config The source of the properties
         * @<b>return</b> {Object} returns obj
         */</i>
        applyIf : <b>function</b>(o, c){
            <b>if</b>(o &amp;&amp; c){
                <b>for</b>(var p <b>in</b> c){
                    <b>if</b>(typeof o[p] == 'undefined'){ o[p] = c[p]; }
                }
            }
            <b>return</b> o;
        },

        <i>/**
         * Shorthand <b>for</b> YAHOO.util.Dom.generateId()
         */</i>
        id : <b>function</b>(){
            <b>return</b> YAHOO.util.Dom.generateId.apply(YAHOO.util.Dom, arguments);
        },

        <i>/**
         * Extends one class <b>with</b> another class and optionally overrides members <b>with</b> the passed literal. This class
         * also adds the <b>function</b> &quot;override()&quot; to the class that can be used to override
         * members on an instance.
         * @param {Object} subclass The class inheriting the functionality
         * @param {Object} superclass The class being extended
         * @param {Object} overrides (optional) A literal <b>with</b> members
         * @method extend
         */</i>
        extend : <b>function</b>(subclass, superclass, overrides){
            YAHOO.extend(subclass, superclass);
            subclass.override = <b>function</b>(o){
                Ext.override(subclass, o);
            };
            <b>if</b>(!subclass.prototype.override){
                subclass.prototype.override = <b>function</b>(o){
                    <b>for</b>(var method <b>in</b> o){
                        <b>this</b>[method] = o[method];
                    }
                };
            }
            <b>if</b>(overrides){
                subclass.override(overrides);
            }
        },

        override : <b>function</b>(origclass, overrides){
            <b>if</b>(overrides){
                <b>var</b> p = origclass.prototype;
                <b>for</b>(var method <b>in</b> overrides){
                    p[method] = overrides[method];
                }
            }
        },
        <i>/**
         * Creates namespaces but does not assume YAHOO is the root.
         * @param {String} namespace1
         * @param {String} namespace2
         * @param {String} etc
         * @method namespace
         */</i>
        namespace : <b>function</b>(){
            <b>var</b> a = arguments, len = a.length, i;
            YAHOO.namespace.apply(YAHOO, a);
            <b>for</b>(i = 0; i &lt; len; i++){
                <b>var</b> p = a[i].split('.')[0];
                <b>if</b>(p != 'YAHOO' &amp;&amp; YAHOO[p]){
                    eval(p + ' = YAHOO.' + p);
                }
            }
        },

        <i>/**
         * Takes an object and converts it to an encoded URL. e.g. Ext.urlEncode({foo: 1, bar: 2}); would <b>return</b> &quot;foo=1&amp;bar=2&quot;.
         * @param {Object} o
         * @<b>return</b> {String}
         */</i>
        urlEncode : <b>function</b>(o){
            <b>if</b>(!o){
                <b>return</b> '';
            }
            <b>var</b> buf = [];
            <b>for</b>(var key <b>in</b> o){
                <b>var</b> type = <b>typeof</b> o[key];
                <b>if</b>(type != '<b>function</b>' &amp;&amp; type != 'object'){
                    buf.push(encodeURIComponent(key), '=', encodeURIComponent(o[key]), '&amp;');
                }
            }
            buf.pop();
            <b>return</b> buf.join('');
        },

        <i>/**
         * Iterates an array calling the passed <b>function</b> with each item, stopping <b>if</b> your <b>function</b> returns false. If the
         * passed array is not really an array, your <b>function</b> is called once <b>with</b> it.
         * The supplied <b>function</b> is called <b>with</b> (Object item, Number index, Array allItems).
         * @param {Array/NodeList/Mixed} array
         * @param {Function} fn
         * @param {Object} scope
         */</i>
        each : <b>function</b>(array, fn, scope){
            <b>if</b>(typeof array.length == 'undefined' || <b>typeof</b> array == 'string'){
                array = [array];
            }
            <b>for</b>(var i = 0, len = array.length; i &lt; len; i++){
                <b>if</b>(fn.call(scope || array[i], array[i], i, array) === false){ <b>return</b> i; };
            }
        },

        combine : <b>function</b>(){
            <b>var</b> as = arguments, l = as.length, r = [];
            <b>for</b>(var i = 0; i &lt; l; i++){
                <b>var</b> a = as[i];
                <b>if</b>(a instanceof Array){
                    r = r.concat(a);
                }<b>else</b> if(a.length !== undefined &amp;&amp; !a.substr){
                    r = r.concat(Array.prototype.slice.call(a, 0));
                }<b>else</b>{
                    r.push(a);
                }
            }
            <b>return</b> r;
        },

        escapeRe : <b>function</b>(s) {
            <b>return</b> s.replace(/[.*+?^${}()|[\]\/\\]/g, '\\$0');
        },

        callback : <b>function</b>(cb, scope, args){
            <b>if</b>(typeof cb == '<b>function</b>'){
                cb.apply(scope, args || []);
            }
        },

        <i>/* @type Boolean */</i>
        isOpera : isOpera,
        <i>/* @type Boolean */</i>
        isSafari : isSafari,
        <i>/* @type Boolean */</i>
        isIE : isIE,
        <i>/* @type Boolean */</i>
        isIE7 : isIE7,
        <i>/* @type Boolean */</i>
        isGecko : isGecko,
        <i>/* @type Boolean */</i>
        isBorderBox : isBorderBox,
        <i>/* @type Boolean */</i>
        isWindows : isWindows,
        <i>/* @type Boolean */</i>
        isMac : isMac,

    <i>/* @type Boolean */</i>
        useShims : ((isIE &amp;&amp; !isIE7) || (isGecko &amp;&amp; isMac))
    });


})();

<i>/**
 * @class Function
 * These functions are available on every Function object (any javascript <b>function</b>).
 */</i>
Ext.apply(Function.prototype, {
     <i>/**
     * Creates a callback that passes arguments[0], arguments[1], arguments[2], ...
     * Call directly on any <b>function</b>. Example: &lt;code&gt;myFunction.createCallback(myarg, myarg2)&lt;/code&gt;
     * Will create a <b>function</b> that is bound to those 2 args.
     * @<b>return</b> {Function} The <b>new</b> function
    */</i>
    createCallback : <b>function</b>(<i>/*args...*/</i>){
        <i>// make args available, <b>in</b> function below</i>
        <b>var</b> args = arguments;
        <b>var</b> method = <b>this</b>;
        <b>return</b> function() {
            <b>return</b> method.apply(window, args);
        };
    },

    <i>/**
     * Creates a delegate (callback) that sets the scope to obj.
     * Call directly on any <b>function</b>. Example: &lt;code&gt;<b>this</b>.myFunction.createDelegate(<b>this</b>)&lt;/code&gt;
     * Will create a <b>function</b> that is automatically scoped to <b>this</b>.
     * @param {Object} obj (optional) The object <b>for</b> which the scope is set
     * @param {&lt;i&gt;Array&lt;/i&gt;} args (optional) Overrides arguments <b>for</b> the call. (Defaults to the arguments passed by the caller)
     * @param {&lt;i&gt;Boolean/Number&lt;/i&gt;} appendArgs (optional) <b>if</b> True args are appended to call args instead of overriding,
     *                                             <b>if</b> a number the args are inserted at the specified position
     * @<b>return</b> {Function} The <b>new</b> function
     */</i>
    createDelegate : <b>function</b>(obj, args, appendArgs){
        <b>var</b> method = <b>this</b>;
        <b>return</b> function() {
            <b>var</b> callArgs = args || arguments;
            <b>if</b>(appendArgs === true){
                callArgs = Array.prototype.slice.call(arguments, 0);
                callArgs = callArgs.concat(args);
            }<b>else</b> if(<b>typeof</b> appendArgs == 'number'){
                callArgs = Array.prototype.slice.call(arguments, 0); <i>// copy arguments first</i>
                <b>var</b> applyArgs = [appendArgs, 0].concat(args); <i>// create method call params</i>
                Array.prototype.splice.apply(callArgs, applyArgs); <i>// splice them <b>in</b></i>
            }
            <b>return</b> method.apply(obj || window, callArgs);
        };
    },

    <i>/**
     * Calls <b>this</b> function after the number of millseconds specified.
     * @param {Number} millis The number of milliseconds <b>for</b> the setTimeout call (<b>if</b> 0 the <b>function</b> is executed immediately)
     * @param {Object} obj (optional) The object <b>for</b> which the scope is set
     * @param {&lt;i&gt;Array&lt;/i&gt;} args (optional) Overrides arguments <b>for</b> the call. (Defaults to the arguments passed by the caller)
     * @param {&lt;i&gt;Boolean/Number&lt;/i&gt;} appendArgs (optional) <b>if</b> True args are appended to call args instead of overriding,
     *                                             <b>if</b> a number the args are inserted at the specified position
     * @<b>return</b> {Number} The timeout id that can be used <b>with</b> clearTimeout
     */</i>
    defer : <b>function</b>(millis, obj, args, appendArgs){
        <b>var</b> fn = <b>this</b>.createDelegate(obj, args, appendArgs);
        <b>if</b>(millis){
            <b>return</b> setTimeout(fn, millis);
        }
        fn();
        <b>return</b> 0;
    },
    <i>/**
     * Create a combined <b>function</b> call sequence of the original <b>function</b> + the passed <b>function</b>.
     * The resulting <b>function</b> returns the results of the original <b>function</b>.
     * The passed fcn is called <b>with</b> the parameters of the original <b>function</b>
     * @param {Function} fcn The <b>function</b> to sequence
     * @param {&lt;i&gt;Object&lt;/i&gt;} scope (optional) The scope of the passed fcn (Defaults to scope of original <b>function</b> or window)
     * @<b>return</b> {Function} The <b>new</b> function
     */</i>
    createSequence : <b>function</b>(fcn, scope){
        <b>if</b>(typeof fcn != '<b>function</b>'){
            <b>return</b> this;
        }
        <b>var</b> method = <b>this</b>;
        <b>return</b> function() {
            <b>var</b> retval = method.apply(<b>this</b> || window, arguments);
            fcn.apply(scope || <b>this</b> || window, arguments);
            <b>return</b> retval;
        };
    },

    <i>/**
     * Creates an interceptor <b>function</b>. The passed fcn is called before the original one. If it returns false, the original one is not called.
     * The resulting <b>function</b> returns the results of the original <b>function</b>.
     * The passed fcn is called <b>with</b> the parameters of the original <b>function</b>.
     * @addon
     * @param {Function} fcn The <b>function</b> to call before the original
     * @param {&lt;i&gt;Object&lt;/i&gt;} scope (optional) The scope of the passed fcn (Defaults to scope of original <b>function</b> or window)
     * @<b>return</b> {Function} The <b>new</b> function
     */</i>
    createInterceptor : <b>function</b>(fcn, scope){
        <b>if</b>(typeof fcn != '<b>function</b>'){
            <b>return</b> this;
        }
        <b>var</b> method = <b>this</b>;
        <b>return</b> function() {
            fcn.target = <b>this</b>;
            fcn.method = method;
            <b>if</b>(fcn.apply(scope || <b>this</b> || window, arguments) === false){
                <b>return</b>;
            }
            <b>return</b> method.apply(<b>this</b> || window, arguments);
        };
    }
});

Ext.applyIf(String, {
    escape : <b>function</b>(string) {
        <b>return</b> string.replace(/('|\\)/g, &quot;\\$1&quot;);
    },

    leftPad : <b>function</b> (val, size, ch) {
        <b>var</b> result = <b>new</b> String(val);
        <b>if</b> (ch == null) {
            ch = &quot; &quot;;
        }
        <b>while</b> (result.length &lt; size) {
            result = ch + result;
        }
        <b>return</b> result;
    },

    format : <b>function</b>(format){
        <b>var</b> args = Array.prototype.slice.call(arguments, 1);
        <b>return</b> format.replace(/\{(\d+)\}/g, <b>function</b>(m, i){
            <b>return</b> args[i];
        });
    }
});

String.prototype.toggle = <b>function</b>(value, other){
    <b>return</b> this == value ? other : value;
};

Ext.applyIf(Number.prototype, {
    constrain : <b>function</b>(min, max){
        <b>return</b> Math.min(Math.max(<b>this</b>, min), max);
    }
});

Ext.applyIf(Array.prototype, {
    indexOf : <b>function</b>(o){
       <b>for</b> (<b>var</b> i = 0, len = <b>this</b>.length; i &lt; len; i++){
 	      <b>if</b>(this[i] == o) <b>return</b> i;
       }
 	   <b>return</b> -1;
    },

    remove : <b>function</b>(o){
       <b>var</b> index = <b>this</b>.indexOf(o);
       <b>if</b>(index != -1){
           <b>this</b>.splice(index, 1);
       }
    }
});

<i>// prevent IE leaks</i>
<b>if</b>(Ext.isIE){
    YAHOO.util.Event.on(window, 'unload', <b>function</b>(){
        <b>var</b> p = Function.prototype;
        <b>delete</b> p.createSequence;
        <b>delete</b> p.defer;
        <b>delete</b> p.createDelegate;
        <b>delete</b> p.createCallback;
        <b>delete</b> p.createInterceptor;
    });
}

<i>/**
 Returns the number of milliseconds between <b>this</b> date and date
 @param {Date} date (optional) Defaults to now
 @<b>return</b> {Number} The diff <b>in</b> milliseconds
 @member Date getElapsed
 */</i>
Date.prototype.getElapsed = <b>function</b>(date) {
	<b>return</b> Math.abs((date || <b>new</b> Date()).getTime()-<b>this</b>.getTime());
};
</code></pre><hr><div style="font-size:10px;text-align:center;color:gray;">yui-ext - Copyright &copy; 2006 Jack Slocum.  |
    Yahoo! UI - Copyright &copy; 2006 Yahoo! Inc.<br />All rights reserved.</div>
    </body></html>