<html><head><title>Field.js</title><link rel="stylesheet" type="text/css" href="../resources/style.css" media="screen"/></head><body><h1>Field.js</h1><pre class="highlighted"><code>Ext.form.Field = <b>function</b>(config){
    Ext.form.Field.superclass.constructor.call(<b>this</b>, config);
    <b>this</b>.addEvents({
        focus : true,
        blur : true,
        specialkey: true
    });
};

Ext.extend(Ext.form.Field, Ext.Component,  {
    invalidClass : 'x-form-invalid',
    invalidText : 'The value <b>in</b> this field is invalid',
    focusClass : 'x-form-focus',
    validationEvent : 'keyup',
    validationDelay : 250,
    defaultAutoCreate : {tag: 'input', type: 'text', size: '20'},
    fieldClass: 'x-form-field',
    hasFocus : false,

    onRender : <b>function</b>(ct){
        <b>if</b>(this.el){
            <b>this</b>.el = Ext.get(<b>this</b>.el);
            ct.dom.appendChild(<b>this</b>.el.dom);
        }<b>else</b> {
            <b>var</b> cfg = <b>typeof</b> this.autoCreate == 'object' ?
                      <b>this</b>.autoCreate : <b>this</b>.defaultAutoCreate;
            <b>this</b>.el = ct.createChild(cfg);
        }
        <b>if</b>(this.width || <b>this</b>.height){
            <b>this</b>.setSize(<b>this</b>.width || '', <b>this</b>.height || '');
        }
        <b>if</b>(this.style){
            <b>this</b>.el.applyStyles(<b>this</b>.style);
            <b>delete</b> this.style;
        }
        <b>this</b>.el.addClass([<b>this</b>.fieldClass, <b>this</b>.cls]);
    },

    afterRender : <b>function</b>(){
        <b>this</b>.initEvents();
    },

    fireKey : <b>function</b>(e){
        <b>if</b>(e.isNavKeyPress()){
            <b>this</b>.fireEvent('specialkey', <b>this</b>, e);
        }
    },

    initEvents : <b>function</b>(){
        <b>this</b>.el.on(Ext.isIE ? 'keydown' : 'keypress', <b>this</b>.fireKey,  <b>this</b>);
        <b>this</b>.el.on('focus', <b>this</b>.onFocus,  <b>this</b>);
        <b>this</b>.el.on('blur', <b>this</b>.onBlur,  <b>this</b>);
    },

    onFocus : <b>function</b>(){
        <b>if</b>(!Ext.isOpera){ <i>// don't touch <b>in</b> Opera</i>
            <b>this</b>.el.addClass(<b>this</b>.focusClass);
        }
        <b>this</b>.hasFocus = true;
        <b>this</b>.fireEvent('focus', <b>this</b>);
    },

    onBlur : <b>function</b>(){
        <b>this</b>.el.removeClass(<b>this</b>.focusClass);
        <b>this</b>.hasFocus = false;
        <b>if</b>(this.validationEvent != 'blur'){
            <b>this</b>.validate();
        }
        <b>this</b>.fireEvent('blur', <b>this</b>);
    },

    setSize : <b>function</b>(w, h){
        <b>this</b>.el.setSize(w, h);
        <b>var</b> h = <b>this</b>.el.dom.offsetHeight; <i>// force browser recalc</i>
    },

    isValid : <b>function</b>(){
        <b>return</b> this.validateValue(<b>this</b>.getValue());
    },

    validate : <b>function</b>(){
        <b>if</b>(this.validateValue(<b>this</b>.getValue())){
            <b>this</b>.clearInvalid();
        }
    },

    validateValue : <b>function</b>(value){
        <b>return</b> true;
    },
    
    markInvalid : <b>function</b>(msg){
        <b>this</b>.el.addClass(<b>this</b>.invalidClass);
        <b>this</b>.el.dom.title = (msg || <b>this</b>.invalidText);
    },

    clearInvalid : <b>function</b>(){
        <b>this</b>.el.removeClass(<b>this</b>.invalidClass);
        <b>this</b>.el.dom.title = '';
    },

    getValue : <b>function</b>(){
        <b>return</b> this.el.getValue();
    },

    setValue : <b>function</b>(v){
        <b>this</b>.el.dom.value = v;
        <b>this</b>.validate();
    }
});</code></pre><hr><div style="font-size:10px;text-align:center;color:gray;">yui-ext - Copyright &copy; 2006 Jack Slocum.  |
    Yahoo! UI - Copyright &copy; 2006 Yahoo! Inc.<br />All rights reserved.</div>
    </body></html>