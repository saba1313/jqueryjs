<html><head><title>Format.js</title><link rel="stylesheet" type="text/css" href="../resources/style.css" media="screen"/></head><body><h1>Format.js</h1><pre class="highlighted"><code><i>/**
 * @class Ext.util.Format
 * Reusable format functions usable <b>in</b> yui-ext components.
 * @singleton
 */</i>
Ext.util.Format = <b>function</b>(){
    <b>var</b> trimRe = /^\s*(.*)\s*$/;
    <b>return</b> {
        ellipsis : <b>function</b>(value, len){
            <b>if</b>(value &amp;&amp; value.length &gt; len){
                <b>return</b> value.substr(0, len-3)+'...';
            }
            <b>return</b> value;
        },
        
        undef : <b>function</b>(value){
            <b>return</b> typeof value != 'undefined' ? value : '';
        },
        
        htmlEncode : <b>function</b>(value){
            <b>return</b> !value ? value : String(value).replace(/&amp;/g, '&amp;amp;').replace(/&gt;/g, '&amp;gt;').replace(/&lt;/g, '&amp;lt;').replace(/&quot;/g, '&amp;quot;');
        },
        
        trim : <b>function</b>(value){
            <b>return</b> String(value).replace(trimRe, &quot;$1&quot;);
        },
        
        substr : <b>function</b>(value, start, length){
            <b>return</b> String(value).substr(start, length);
        },
        
        lowercase : <b>function</b>(value){
            <b>return</b> String(value).toLowerCase();
        },
        
        uppercase : <b>function</b>(value){
            <b>return</b> String(value).toUpperCase();
        },
        
        capitalize : <b>function</b>(value){
            <b>return</b> !value ? value : value.charAt(0).toUpperCase() + value.substr(1).toLowerCase();
        },
        
        call : <b>function</b>(value, fn){
            <b>if</b>(arguments.length &gt; 2){
                <b>var</b> args = Array.prototype.slice.call(arguments, 2);
                args.unshift(value);
                <b>return</b> eval(fn).apply(window, args);
            }<b>else</b>{
                <b>return</b> eval(fn).call(window, value);
            }
        },
        
        usMoney : <b>function</b>(v){
            v = (Math.round((v-0)*100))/100;
            v = (v == Math.floor(v)) ? v + '.00' : ((v*10 == Math.floor(v*10)) ? v + '0' : v);
            <b>return</b> '$' + v ;
        },
        
        date : <b>function</b>(v, format){
            <b>if</b>(!v){
                <b>return</b> '';
            }
            <b>if</b>(!(v instanceof Date)){
                v = <b>new</b> Date(Date.parse(v));
            }
            <b>return</b> v.dateFormat(format || 'm/d/Y');
        },
        stripTagsRE : /&lt;\/?[^&gt;]+&gt;/gi,
        
        <i>/**
         * Strips all HTML tags
         * @param {Mixed} s The text
         * @<b>return</b> {String} The stripped text
         */</i>
        stripTags : <b>function</b>(v){
            <b>return</b> !v ? v : String(v).replace(<b>this</b>.stripTagsRE, '');  
        }
    };
}();</code></pre><hr><div style="font-size:10px;text-align:center;color:gray;">yui-ext - Copyright &copy; 2006 Jack Slocum.  |
    Yahoo! UI - Copyright &copy; 2006 Yahoo! Inc.<br />All rights reserved.</div>
    </body></html>