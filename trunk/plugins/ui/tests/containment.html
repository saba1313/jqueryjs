<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Draggables demo - Interface plugin for jQuery</title>
<script type="text/javascript" src="../../../jquery/src/jquery/jquery.js"></script>
<script type="text/javascript" src="../../../jquery/src/selector/selector.js"></script>
<script type="text/javascript" src="../../../jquery/src/ajax/ajax.js"></script>
<script type="text/javascript" src="../../../jquery/src/event/event.js"></script>
<script type="text/javascript" src="../../../jquery/src/fx/fx.js"></script>
<script type="text/javascript" src="../../dimensions/jquery.dimensions.js"></script>
<script type="text/javascript" src="../ui.js"></script>
<script type="text/javascript" src="../ui.mouse.js"></script>
<script type="text/javascript" src="../ui.drag.js"></script>
<script type="text/javascript" src="../ui.drag.ext.js"></script>
<style type="text/css" media="all">

body
{
	background: #fff;
	margin: 0;
	padding: 0;
	font-family: Arial;
	font-size: 12px;
}

.proxy {
	border: 1px dotted black;	
}
</style>
</head>
<body>
	
<p>
<ul>
	<li>Limited to containment</li>
	<li>Limited to 0-300px from the right of the parent</li>
	<li><button onclick="$('#myparent').css('width', '200px'); $('#drag2').css('left', '').css('right', '100px');">Resize parent to 200px</button></li>
</ul>	
</p>	
	
<div id='myparent' style='background: #eee; height: 500px; width: 1000px; position: absolute; right: 10px; top: 10px;'>	
<div id='drag2' style='position: absolute; top: 0px; right: 100px; height: 100%; width: 5px; background: #999;'>
</div>
</div>
	
<script type="text/javascript">
if(!window.console) {
 window.console = {
 	log: function() {
 		alert(arguments[0]);	
 	}	
 }	
}

$(document).ready(function(){

$('#drag2').draggable({ axis: 'x', drag: function(helper,p,cursorAt,obj) {
	
	
	/*
	//The positioned parent is here (smart tipp)
	var parent = obj.options.pp;
	
	//The following to lines contain it to the overall parent in any case
	if(pos[0] <= 0) pos[0] = 0; //If coming to left side
	if(pos[0] - parent.offsetWidth + helper.offsetWidth >= 0) pos[0] = parent.offsetWidth-helper.offsetWidth; //If coming to right side
	
	//Here comes the limitation to 0-300 from right
	if(pos[0] - parent.offsetWidth + helper.offsetWidth <= -300) pos[0] = parent.offsetWidth-helper.offsetWidth-300;
	
	return {
		left: pos[0],
		top: pos[1]	
	};
	*/
	
	var v = 300; //My value to the right
	var w = [obj.options.pp.offsetWidth-helper.offsetWidth];
	p[0] = p[0] <= 0 ? 0 : (p[0] - w >= 0 ? w : p[0]);
	
	p[0] = p[0] - w <= -v ? w-v : p[0];
		
} });


});
</script>
</body>
</html>