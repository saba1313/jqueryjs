<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Language" content="en" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Draggables demo - Interface plugin for jQuery</title>
<script type="text/javascript" src="../../../jquery/src/jquery/jquery.js"></script>
<script type="text/javascript" src="../../../jquery/src/selector/selector.js"></script>
<script type="text/javascript" src="../../../jquery/src/ajax/ajax.js"></script>
<script type="text/javascript" src="../../../jquery/src/event/event.js"></script>
<script type="text/javascript" src="../../../jquery/src/fx/fx.js"></script>
<script type="text/javascript" src="../../dimensions/jquery.dimensions.js"></script>
<script type="text/javascript" src="../ui.js"></script>
<script type="text/javascript" src="../draggables.js"></script>
<script type="text/javascript" src="../draggables.ext.js"></script>
<style type="text/css" media="all">

body
{
	background: #fff;
	margin: 0;
	padding: 0;
	font-family: Arial;
	font-size: 12px;
}

li {
	position: relative;
	border-bottom: 1px solid #999;
	border-right: 1px solid #999;
	margin: 10px;
	padding: 10px;
	height: 150px;
	width: 500px;
	float: left;
	list-style-type: none;
	
}

.draggable {
	position: absolute;
	width: 90px;
	height: 90px;
	top: 10px;
	right: 10px;
	background-color: #68BFEF;
	border: 2px solid #0090DF;
	padding: 5px;	
}

div.drag-handle
{
	cursor: move;
	background-color: #900;
	height: 15px;
}

div.todo
{
	margin-top:16px;
	background: #eeeeee;
	width:300px;
}
div.todo span.todo-label
{
	color: red;
}
div.todo div.todo-desc
{
	font-style: italic;
	border-top:1px solid silver;
	background: #f7f7f7;
}
</style>
</head>
<body>

	<ul>
	    <li>
	    	axis: 'x'
	    	<div id="drag-axis-x" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	axis: 'y'
	    	<div id="drag-axis-y" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	containment: 'document'
	    	<div id="drag-containment-document" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	containment: 'parent'
	    	<div id="drag-containment-parent" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	cursorAt: {top: 2, left: 2}
	    	<div id="drag-cursorAt-top2-left2" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	cursorAt: {bottom: 20, right: 14}
	    	<div id="drag-cursorAt-bottom20-right14" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	dragPrevention: 'a,input,textarea'
	    	<div id="drag-dragPrevention" class='draggable'><a href="index.php">Drag me</a><input type="text" value="select me" style="width: 90px; font-size: 10px;" /></div>
	    </li>
	    <li>
	    	effect: ['fade', '']
	    	<div id="drag-effect-fade-none" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	effect: ['', 'fade']
	    	<div id="drag-effect-none-fade" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	effect: ['fade', 'fade']
	    	<div id="drag-effect-fade-fade" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	grid: [50, 50]
	    	<div id="drag-grid-50-50" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	handle: 'div'
	    	<div id="drag-handle-div" class='draggable'><div class="drag-handle"></div>Drag me</div>
	    </li>
	    <li>
	    	helper: 'clone'
	    	<div id="drag-helper-clone" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	helper: function() { return divHelper; }
	    	<div id="drag-helper-function" class='draggable'>Drag me</div>
	    </li>
	    <li>
		onDrag<br/>
	    	custom drag modifier (circle dragging)
	    	<div id="drag-onDrag-function-circle" class='draggable'>Drag me</div>
	    </li>
	    <li>
		onStart
	    	<div id="drag-onStart" class='draggable'>Drag me</div>
		<div class="todo">
			fix scroll bug
			<div class="todo-desc">draggable jumps down when first dragged after page refresh</div>
		</div>
	    </li>
	    <li>
		onStop
	    	<div id="drag-onStop" class='draggable'>Drag me</div>
		<div class="todo">
			fix scroll bug
			<div class="todo-desc">draggable jumps down when first dragged after page refresh</div>
		</div>
	    </li>
	    <li>
		opacity: 0.40
	    	<div id="drag-opacity-40percent" class='draggable'>Drag me</div>
		<div class="todo">
			fix scroll bug
			<div class="todo-desc">draggable jumps down when first dragged after page refresh</div>
		</div>
	    </li>
	    <li>
		preventionDistance: 20
	    	<div id="drag-preventionDistance-20" class='draggable'>Drag me</div>
		<div class="todo">
			fix scroll bug
			<div class="todo-desc">draggable jumps down when first dragged after page refresh</div>
		</div>
		<div class="todo">
			fix preventionDistance bug
			<div class="todo-desc">preventionDistance only works on the first drag</div>
		</div>
	    </li>
	    <li>
		preventionTimeout
		<div class="todo">complete demo</div>
	    </li>
	    <li>
	    	revert: true<br/>
		helper: 'clone'
	    	<div id="drag-revert-helperClone" class='draggable'>Drag me</div>
		<div class="todo">
			fix scroll bug
			<div class="todo-desc">draggable jumps down when first dragged after page refresh</div>
		</div>
	    </li>
	    <li>
	    	revert: true<br/>
		helper: 'original'
	    	<div id="drag-revert-helperOriginal" class='draggable'>Drag me</div>
		<div class="todo">
			fix scroll bug
			<div class="todo-desc">draggable jumps down when first dragged after page refresh</div>
		</div>
	    </li>
	    <li>
		scroll: true
	    	<div id="drag-scroll-true" class='draggable'>Drag me</div>
		<div class="todo">
			fix scroll bug
			<div class="todo-desc">draggable jumps down when first dragged after page refresh</div>
		</div>
	    </li>
	    <li>
		scroll: false
	    	<div id="drag-scroll-false" class='draggable'>Drag me</div>
	    </li>
	    <li>
		wrapHelper
		<div class="todo">complete demo</div>
	    </li>
	    <li style='background: #eee; height: 300px; overflow: scroll;'>
	    	cursorAt: { top: -16, left: -16 } and overflowing container
	    	<div id="drag-overflowingContainer" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	helper: 'clone'<br/>
		appendTo: 'body'
	    	<div id="drag-helperClone-withAppendTo" class='draggable'>Drag me</div>
	    </li>
	    <li>
	    	helper: 'clone'
	    	<div id="drag-helperClone-withoutAppendTo" class='draggable'>Drag me</div>
		<div class="todo">
			fix scroll bug
			<div class="todo-desc">draggable jumps down when first dragged after page refresh. Compare above (with AppendTo: 'body')</div>
		</div>
	    </li>
	    <li>
		known issues
		<div class="todo">
			fix right column bug
			<div class="todo-desc">Page jumps on drag start (hor. scrollbar appears and dissapears) when list is two columns wide and a right-column draggable is dragged.</div>
		</div>
	    </li>
	</ul>

<script type="text/javascript">
$(document).ready(function(){

	$('.todo').prepend(
		$(document.createElement('span'))
			.addClass('todo-label')
			.text('TODO: ')
	);

	$('#drag-axis-x').draggable({
		axis:'x'
	});

	$('#drag-axis-y').draggable({
		axis:'y'
	});
	
	$('#drag-containment-document').draggable({
		containment: 'document'
	});

	$('#drag-containment-parent').draggable({
		containment: 'parent'
	});

	$('#drag-cursorAt-top2-left2').draggable({
		cursorAt: {top: 2, left: 2}
	});

	$('#drag-cursorAt-bottom20-right14').draggable({
		cursorAt: {bottom: 20, right: 14}
	});

	$('#drag-dragPrevention').draggable({
		dragPrevention: 'a,input,textarea'
	});

	$('#drag-effect-fade-none').draggable({
		effect: ['fade', ''],
		helper: 'clone'
	});

	$('#drag-effect-none-fade').draggable({
		effect: ['', 'fade'],
		helper: 'clone'
	});

	$('#drag-effect-fade-fade').draggable({
		effect: ['fade', 'fade'],
		helper: 'clone'
	});

	$('#drag-grid-50-50').draggable({
		grid: [50, 50]
	});

	$('#drag-handle-div').draggable({
		handle:'div'
	});

	$('#drag-helper-clone').draggable({
		helper:'clone'
	});

	$('#drag-helper-function').draggable({
		zIndex: 1000,
		helper: function() {
			var myHelper = document.createElement("div");
			$(myHelper).css({
				background: 'yellow',
				width: this.offsetWidth + 'px',
				height: this.offsetHeight + 'px',
				opacity: 0.6,
				position: 'absolute'
			});
			return myHelper;
		},
		cursorAt: { bottom: -30, left: -30 }
	});

	$('#drag-onDrag-function-circle').draggable({
		revert: true,
		onDrag: function(el, helper, position) {
			
			var centerx = 291, centery = 100;
			var angle = Math.atan((centery-position[1])/(centerx-position[0]));
			if((centerx-position[0])>=0)
				angle += Math.PI;
			var radius = 160;

			return {
				x: radius * Math.cos(angle) + centerx, 
				y: radius * Math.sin(angle) + centery
			}
		}
	});

	$('#drag-onStart').draggable({
		onStart: function(dragging) {
			$(dragging).css('background', '#4e9a06');
		}
	});

	$('#drag-onStop').draggable({
		onStop: function(dragging) {
			$(dragging).css('background', '#cc0000');
		}
	});

	$('#drag-opacity-40percent').draggable({
		opacity: 0.40
	});

	$('#drag-preventionDistance-20').draggable({
		preventionDistance: 20
	});

	$('#drag-revert-helperClone').draggable({
		revert: true,
		helper: 'clone'
	});

	$('#drag-revert-helperOriginal').draggable({
		revert: true,
		helper: 'original'
	});

	$('#drag-scroll-true').draggable({
		scroll: true
	});

	$('#drag-scroll-false').draggable({
		scroll: false
	});

	$('#drag-overflowingContainer').draggable({
		cursorAt: { top: -16, left: -16 }
	});
	
	$('#drag-helperClone-withAppendTo').draggable({
		helper: 'clone',
		appendTo: 'body',
		effect: ['fade', 'fade']
	});

	$('#drag-helperClone-withoutAppendTo').draggable({
		helper: 'clone',
		effect: ['fade', 'fade']
	});

});
</script>

</body>
</html>

