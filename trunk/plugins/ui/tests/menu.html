<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>UI Menu Tests</title>
		
		<style type="text/css">
			body { font:10pt Calibri, Arial, sans-serif; margin:10px 20px;}
			.ui-menu-toolbar {background:#222; z-index:500; font:10pt Verdana; list-style:none;}
			.ui-menu-toolbar-button {float:left; padding:4px 20px; border:1px solid #DDD; background:#FFF; cursor:pointer;}
			.ui-menu-toolbar-button:hover {border:1px solid #CCC; background:#EEE; }
			.ui-menu-toolbar-button a {text-decoration:none; color:#000;}
			.ui-menu-items {display:none; padding:0; background:#FFF; z-index:500; border:1px solid #CCC; list-style:none; padding:1px 4px; opacity:0.95; font:10pt Verdana; min-width:80px; *width:80px;}
			.ui-menu-item a { color:#000; text-decoration:none;}
			.ui-menu-item-parent { background: url('images/arrow_right.png') no-repeat center right; }
			.filePrint {background: url('images/printer.png') no-repeat center left; padding-left: 16px;}
			
			td:hover {border: 1px solid #f00;}
			td:focus {border: 1px solid #f00;}
		</style>
		
    <script type="text/javascript" src="../../../jquery/src/jquery/jquery.js"></script>
    <script type="text/javascript" src="../../../jquery/src/selector/selector.js"></script>
    <script type="text/javascript" src="../../../jquery/src/event/event.js"></script>
    <script type="text/javascript" src="../../../jquery/src/ajax/ajax.js"></script>
    <script type="text/javascript" src="../../../jquery/src/fx/fx.js"></script>
	<script type="text/javascript" src="../../../../branches/tane-dev/jquery.hoverIntent.js"></script>
	<script type="text/javascript" src="../../dimensions/jquery.dimensions.js"></script>
	<script type="text/javascript" src="../ui.menu.js"></script>
	</head>
	<body>
		
		<script type="text/javascript">
			$('document').ready(function(){
				$('#filemenu-parent').menu('#filemenu', {
					speed: 'fast',
					buttons: {
						fileExit : function(){
							var toexit = confirm('Are you sure you want to exit');
							if (toexit == true){
								alert('This would close the screen');
								return false;
							}
						},
						filePrint : function(){
							print();
							return false;
						},
						fileSave : function(){
							$('#filemenu-save').menuItemDisable(null, testCallback());
							return false;
						},
						fileNewDocument : function(){
							alert('New Document');
							return false;
						}
					}
				});
				
				$('#editmenu-parent').menu('#editmenu', {
					context: 'hoverContext',
					hovertype: 'hover',
					buttons: {
						fileCopy : function(){
							alert('Text Copied');
							return false;
						}
					},
					hovers : {
						colorPicker : function(){
							alert('Color Picker');
							return false;
						}
					}
				});
				
				$('td').menu('#contextMenu', {
					context: 'context',
					buttons : {
						contextEditField : function(){
							alert('Context Document Fired');
							return false;
						},
						contextClearField : function(e){
							$('.contextClearField').click(function(){
								$(e).text('');
								return false;
							})
						}
					}
				});
				
				$('.addMenuItem').bind('click', function(){
					$('#editmenu-paste').menuAddItem({id: 'editmenu-pastespecial', href: '#', linkclass: 'editPasteSpecial', linktext: 'Paste Special', buttons:{editPasteSpecial: function(){ alert('Paste Special'); } } }, testCallback());
					return false;
				})
				
				$('.enableSave').bind('click', function(){
					$('#filemenu-save').menuItemEnable(testCallback());
					return false;
				})
			});
			
			function testCallback(){
				alert ('Callback Fired');
			}
			
		</script>
		<h2>Toolbar Test</h2>
		<ul id="mytoolbar" class="ui-menu-toolbar">
			<li id="filemenu-parent" class="ui-menu-toolbar-button"><a href="#" class="toolbarFile">File</a>
				<ul id="filemenu">
					<li id="filemenu-new"><a href="#" class="fileNew">New</a>
						<ul>
							<li id="filemenu-newdoc"><a href="#" class="fileNewDocument">Document</a></li>
							<li id="filemenu-newimg"><a href="#" class="fileNewImage">Image</a></li>
						</ul>
					</li>
					<li id="filemenu-open"><a href="#" class="fileOpen">Open</a></li>
					<li id="filemenu-save"><a href="#" class="fileSave">Save</a></li>
					<li id="filemenu-print"><a href="#" class="filePrint">Print</a></li>
					<li id="filemenu-properties"><a href="#" class="fileProperties">Properties</a>
						<ul>
							<li id="filemenu-properties-new"><a href="#" class="filePropertiesNew">New</a></li>
							<li id="filemenu-properties-edit"><a href="#" class="filePropertiesEdit">Edit</a></li>
							<hr />
							<li id="filemenu-properties-show"><a href="#" class="filePropertiesShow">Show</a>
							<ul>
								<li id="filemenu-properties-show-current"><a href="#" class="filePropertiesShowCurrent">Current</a></li>
								<li id="filemenu-properties-show-current"><a href="#" class="filePropertiesShowRevisions">Revisions</a></li>
							</ul>
							</li>
						</ul>
					</li>
				<li id="filemenu-exit"><a href="#" class="fileExit">Exit</a></li>
				</ul>
			</li>
			<li id="editmenu-parent" class="ui-menu-toolbar-button"><a href="#" class="toolbarEdit">Edit</a>
				<ul id="editmenu">
					<li id="editmenu-cut"><a href="#" class="fileCut">Cut</a></li>
					<li id="editmenu-copy"><a href="#" class="fileCopy">Copy</a></li>
					<li id="editmenu-paste"><a href="#" class="filePaste">Paste</a></li>
					<hr />
					<li id="editmenu-color"><a href="#" class="colorPicker">Pick Colour</a></li>
				</ul>
			</li>
		</ul>
		<br style="clear:both;" />
		
		<a href="#" class="addMenuItem">Add Paste Special</a>
		<a href="#" class="enableSave">Enable Save Menu</a>
		
		<ul id="contextMenu">
			<li id="context-edit"><a href="#" class="contextEditField">Edit</a></li>
			<li id="context-delete"><a href="#" class="contextClearField">Clear</a></li>
		</ul>
		
		<h2>Context Test</h2>
		<table>
			<caption>Test Table</caption>
			<thead>
				<tr>
					<th>Name</th>
					<th>Profession</th>
					<th>Salary ($)</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>Tane Piper</td>
					<td>Web Developer</td>
					<td>1,000,000</td>
				</tr>
				<tr>
					<td>John Smith</td>
					<td>Gardener</td>
					<td>20,000</td>
				</tr>
				<tr>
					<td>Jane Doe</td>
					<td>Session Musician</td>
					<td>40,000</td>
				</tr>
			</tbody>
			</thead>
		</table>		
	</body>
</html>
