<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Accordion Wizard Validation</title>

<script src="../js/jquery.js" type="text/javascript"></script>
<script src="../../jquery.metadata.js" type="text/javascript"></script>
<script src="../../jquery.ajaxQueue.js" type="text/javascript"></script>
<script src="../../jquery.validate.js" type="text/javascript"></script>

<script type="text/javascript">
$(function() {
    var current = +$("#current").text();
    console.log(current);
    $("#commentForm").validate({
        debug: true,
        subformRequired: function(input) {
            return !((current == 0 && input.parents(".name").length) || (current == 1 && input.parents(".email").length) || (current == 2 && input.parents(".url").length));
        }
    });
    $("#prev").click(function() {
        if (current > 0) {
            current--;
        }
        $("#current").text(current);
    });
    $("#next").click(function() {
        if (current < 2) {
            current++;
        }
        $("#current").text(current);
    });
})
</script>

</head>
<body>

<div id="current">0</div>
<button id="prev">Prev</button>
<button id="next">Next</button>

<form class="cmxform" id="commentForm" method="get" action="">
	<fieldset>
		<legend>A simple comment form with submit validation and default messages</legend>
        <dl>
            <dt><label for="cname">Name</label></dt>
            <dd class="name">
    			* <input id="cname" name="name" class="some other styles {required:true,minLength:2}" />
            </dd>
            <dt><label for="cemail">E-Mail</label></dt>
            <dd class="email">
    			* <input id="cemail" name="email" class="{required:true,email:true}" />
            </dd>
            <dt><label for="curl">URL</label></dt>
            <dd class="url">
    			* <input id="curl" name="url" class="{required:true,url:true}" value="" />
            </dd>
        </dl>
		<p>
			<input class="submit" type="submit" value="Submit"/>
		</p>
	</fieldset>
</form>

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-2623402-1";
urchinTracker();
</script>
</body>
</html>