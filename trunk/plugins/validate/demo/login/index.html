<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<title>Jane Patrick - Login</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" media="screen" href="screen.css" />
	
	<script type="text/javascript" src="../../lib/jquery.js"></script>
	<script type="text/javascript" src="../../jquery.validate.js"></script>

	<script type="text/javascript" src="../../lib/jquery.metadata.js"></script>
	
	<script type="text/javascript">
		
	$(function() {
		var elements = $("input[type!='submit']").add("textarea").add("select")
		elements.focus(function(){
			$(this).parents('li').addClass('highlight');
		});
		elements.blur(function(){
			$(this).parents('li').removeClass('highlight');
		});
		
		// define custom method to make password optional when "Email my password" is clicked
		var validatePassword = true;
		$.validator.addMethod("passwordRequired", function(value, element) {
		  return validatePassword ? !this.optional(element) : "dependency-mismatch";
		}, $.validator.messages.required);
		
		$("#forgotpassword").click(function() {
			validatePassword = false;
			$("#login").submit();
			validatePassword = true;
			return false;
		});
		
		$.metadata.setType("attr", "validation");
		$("#login").validate()
	});
	</script>
	
</head>
<body>
	<div id="page">

	
		<div id="header">
			<h1>Login</h1>
		</div>

		<div id="content">
			<p id="status"></p>
			<form action="" method="get" id="login">
				<fieldset>
					<legend>User details</legend>
					<ul>

						<li>

							<label><span class="required">Email address</span></label>
							<input id="email" name="email" class="text" type="text"  validation="required:true, email:true"/>
							<label for="email" class="error">This must be a valid email address</label>
						</li>
						
						<li>
							<label><span class="required">Password</span></label>
							<input name="password" type="password" class="text" id="password" maxlength="20" validation="passwordRequired:true, minlength:4, maxlength:20"/>

						</li>

						<li>
							<label class="centered info"><a id="forgotpassword" href="#">Email my password...</a></label>
						</li>
					</ul>
				</fieldset>
				
				<fieldset class="submit">
					<input type="submit" class="button" value="Login..." />

				</fieldset>
				

				<div class="clear"></div>
			</form>
			
			</div>
	</div>
	
</body>
</html>
